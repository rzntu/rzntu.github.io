<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Posts | Rui Zhao&#39;s Homepage</title>
    <link>https://rzntu.github.io/post/</link>
      <atom:link href="https://rzntu.github.io/post/index.xml" rel="self" type="application/rss+xml" />
    <description>Posts</description>
    <generator>Source Themes Academic (https://sourcethemes.com/academic/)</generator><language>en-us</language><lastBuildDate>Wed, 08 Jan 2020 21:54:22 +0800</lastBuildDate>
    <image>
      <url>https://rzntu.github.io/img/icon-192.png</url>
      <title>Posts</title>
      <link>https://rzntu.github.io/post/</link>
    </image>
    
    <item>
      <title>20 For Twenty</title>
      <link>https://rzntu.github.io/post/20-for-twenty/</link>
      <pubDate>Wed, 08 Jan 2020 21:54:22 +0800</pubDate>
      <guid>https://rzntu.github.io/post/20-for-twenty/</guid>
      <description>

&lt;h1 id=&#34;selected-papers-from-aqr-capital-management&#34;&gt;Selected Papers from AQR Capital Management&lt;/h1&gt;

&lt;p&gt;Even AQR have not so decent performances during recent years, it is still meaningful to read some academic papers related to quant trading/markets.&lt;/p&gt;

&lt;h2 id=&#34;the-great-divide&#34;&gt;The Great Divide&lt;/h2&gt;

&lt;p&gt;The most impressive sentence is &lt;strong&gt;EMH is our North Star even if we often or always veer 15 degrees left or right of it.&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;For efficient market hypothesis that the simple statement that security prices fully reflect all available information, there is always a debate. Here, AQR founders provide their own insights toward this debate.&lt;/p&gt;

&lt;p&gt;Firstly, they pointed out that to make any statement about market efficiency, you need to make some assertion of how the market should reflect information. Therefore, here is a joint hypothesis. For example, CAPM model defines that how prices are set. Therefore, we can not tell which of two ideas you are rejecting from the evidences.&lt;/p&gt;

&lt;p&gt;For the joint of CAPM and EMH, the microchallenges are value and momentum methods. Value can be the HML (High minus low) that goes long a diversified portfolio of high booktoprice ratios and short the one of low booktoprice ratios. Momentum can be trend-following. To reject the CAPM and EMH, two kinds of arguments have been proposed as:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;risk: market beta is not the only source of risk. The higher expected return of cheap stocks is rational, as it reflects higher risk.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;behaviorists: behavior biases cause prices to get too high or too low. For instance, investors may overextrapolate both good and bad news thus long too much or short too much.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The authors think this mix of risk and behaviorists is there. In their view, it is likely that at most times risk plays a significant role in expected return advantange seems like it is driven more by irrational behaviroal reasons.&lt;/p&gt;

&lt;h2 id=&#34;my-top-10-peeves&#34;&gt;My Top 10 Peeves&lt;/h2&gt;

&lt;p&gt;Ten statements against authors top 10 peeves related to investing are listed in the follow:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Volatility Is for Misguided Geeks; Risk Is Really the Chance of a &amp;ldquo;Permanent Loss of Cpital&amp;rdquo;y&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;In quant, voaltility is not how much the security is likely to move; it is how much it is likely to move versus the forcast of expected return. The quant apporach is to consider expected return and risk separately.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Bubbles, Bubbles, Everywhere, But not All Pop or Sink.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Bubble should indicate a price that no reasonable future outcome can justify.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Had We but World Enough, and Time, using Three-Five Year Evaluation Periods Would still be a Crime.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Some arguments are: &lt;strong&gt;Judgement&lt;/strong&gt; in portfolio and startegy selection and a consistent philosophy to be more equal partners with data. &lt;strong&gt;Over three to five years&lt;/strong&gt;, pretty much everything has shown some systematic, if certainly not dramatic, tendency to mean revert. Therefore, not only are insufficient data often driving our decisions, but the data we have are often used with the wrong sign.&lt;/p&gt;

&lt;p&gt;Some comments: but the US market is strong in almost ten years.&lt;/p&gt;

&lt;h2 id=&#34;buffett-s-alpha&#34;&gt;Buffett&amp;rsquo;s Alpha&lt;/h2&gt;

&lt;p&gt;In this paper, they did a very detailed empirical analysis of Buffett&amp;rsquo;s results to hack the investment style. They are trying to replicate it in an systemmatic way.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;This paper suggest that Buffett’s success is neither luck nor magic but is a reward for a successful implementation of value and quality exposures that have historically produced high returns.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Buffett applies a lverage of about 1.7 to 1.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Stock-selection is the key: buy stocks that are safe (with low beta and low volatility), cheap (i.e., value stocks with low price-to-book ratios) and of high quality (profitable, stable, and growing stocks with high payout ratios)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Although optimistic asset managers often claim to be able to achieve Sharpe ratios above 1 or
2 and many chief investment officers seek similarly high performance numbers, our results
suggest that long-term investors might do well to set a realistic performance goal and brace
themselves for the tough periods that even Buffett has experienced. Indeed, because Buffett became one of the richest people in the world with a &lt;strong&gt;Sharpe ratio of 0.79&lt;/strong&gt;, most investors should seek to actually deliver a Sharpe ratio somewhere between this number and the
market’s Sharpe ratio, which was around 0.5 during this sample period, rather than making
suboptimal investments in a futile attempt to consistently reach a much higher number&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
    <item>
      <title>Advances in Financial Machine Learning</title>
      <link>https://rzntu.github.io/post/advances-in-financial-machine-learning/</link>
      <pubDate>Fri, 08 Nov 2019 21:54:22 +0800</pubDate>
      <guid>https://rzntu.github.io/post/advances-in-financial-machine-learning/</guid>
      <description>

&lt;h2 id=&#34;advances-in-financial-machine-learning&#34;&gt;Advances in Financial Machine Learning&lt;/h2&gt;

&lt;p&gt;Lots of insights on practical aspects of machine learning in finances have been shared in this book. Some of them are quite useful. But the author sometimes tend to make the simple or very intuitive problem/solution seems very complex and fuzzy. In this random notes, I may write down some of my random ideas.&lt;/p&gt;

&lt;h3 id=&#34;ch2-financial-data-structures&#34;&gt;CH2: Financial Data Structures&lt;/h3&gt;

&lt;p&gt;The main topic in this chapter is that how do we form the bar.  Usually, the charts/technical analysis are performed upon the time-sampled bar. Each bar means the information sampled from a fixed interval. Then, the drawback is that time bars oversample information during low-activity periods and undersample information during high-activity periods. The low-activity and high-activity may refer to the trading volume. Then, several information-driven bars have been proposed. The core idea is that we want to sample the information evenly. Different information measures lead to different methods. For example, the volume, the volume*price, the number of ticks. And &lt;strong&gt;it is claimed that sampling as a function of trading activity allows us to achieve returns closer to IID Normal&lt;/strong&gt;. (I am not sure why is it)&lt;/p&gt;

&lt;p&gt;At last, I think this bar sampling technique is one of representation learning. In machine learning, how do we convert the unstructured data into structured one. Here, it do the same thing. Time series to the bar that be stored in a csv format.&lt;/p&gt;

&lt;p&gt;From my own experiments, MACD applied on some information-driven bars have not shown good performance. I am not sure it is the problems behind the technical analysis or the bars themselves.&lt;/p&gt;

&lt;h3 id=&#34;ch3-labeling&#34;&gt;CH3: Labeling&lt;/h3&gt;

&lt;p&gt;How to define y in machine learning for trading strategy. The authors propose a triple-barrier methods, which involve some interesting ideas:&lt;/p&gt;

&lt;p&gt;for example, we want to label one tradable product at time T.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Define a maximum holding period N, then we will look at T: T+N&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Based on the recent volatility, two horizontal lines are introduced indicating profit-taking and cut-loss lines.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The label will depend on the order of the touched lines.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;The advantage is that it consider the price change path instead of the absoulte change p(T+N) - p(T). However, the concern may that how do we define the horizontal lines. It involves some hyperparameters, which may be very tricky. In addition, it is also unsure that in which frequency, we should look at the touched lines. For example, if we label the data at 30 mins, we can use any time frequency higher than 30 mins to check which line will be touched firstly.&lt;/p&gt;

&lt;p&gt;At the same time, the meta-label was also introduced by the author. At the same time, in ml research community, meta-learnin is also popular. The meta-label idea is that we add second layer label/classifier. The first layer will be any trading strategy, which will do timing/generate buy sell points. Then, the second layer label will be the size betting. The second layer label will be only 1 and 0, which means if the trade we entered at time T, can we have profit. The classifier may have the prob. output. This continus and normalized output can be the size we predict.&lt;/p&gt;

&lt;h3 id=&#34;ch11-the-dangers-of-backtesting&#34;&gt;Ch11: The Dangers of Backtesting&lt;/h3&gt;

&lt;p&gt;This chapter is talking about the issues of data leakage in the context of trading algorithms development. Some sentences may be highlighed in case I made the same mistakes in my daily job.&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;The point of a backtest is a sanity check on a number of variables, including bet sizing, turnover, resilience to costs, and behavior under a given scenario.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The maddening thing about backtesting is that, the better you become at it, the more likely false discoveries will pop up.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The purpose of backtesting is to &lt;strong&gt;discard bad models, not to improve them&lt;/strong&gt;.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;What makes backtest overfitting so hard to access is that the probability of false positive changes with every new test conducted on the same dataset.&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;One of measures named Probability of Backtest Overfitting was proposed. The input is a return matrix: one dimension is time axis and the other dimension is the algorithms. The idea is that based on the training period, the best algo should perform above the median in the testing period. And simialr to cross-validation, PBO fakely generated lots of pairs of training and testing. Then, based on a large number of simulations, the probability score could be inferred.&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Following the Trend</title>
      <link>https://rzntu.github.io/post/following-the-trend/</link>
      <pubDate>Sat, 08 Jun 2019 21:54:22 +0800</pubDate>
      <guid>https://rzntu.github.io/post/following-the-trend/</guid>
      <description>

&lt;h2 id=&#34;diversified-managed-futures-trading&#34;&gt;Diversified Managed Futures Trading&lt;/h2&gt;

&lt;h3 id=&#34;ch2-futures-data-and-tools&#34;&gt;CH2: Futures Data and Tools&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Term Structure:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;The fair price of any position is the cost of hedging it, so if you can hedge something you can also price it.&lt;/li&gt;
&lt;li&gt;For financial futures such as index and bond ones, the interest rate is the main driver of the term structure shape that is less of a steep curve for financial curses than for deliverable ones.&lt;/li&gt;
&lt;li&gt;Backwardation can be caused by seasonality, interest rate conditions or unusual storage cost situations and is not uncommon for softs and perishable commodities.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Terms to describe the price change:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Points: the smallest price increment change that on the left side of the decimal point&lt;br /&gt;&lt;/li&gt;
&lt;li&gt;Ticks: A point is composed of ticks. Tick size deterimes that how many ticks it taks to increase the point. E.g. four ticks to a point is the tick size of 0.25&lt;/li&gt;
&lt;li&gt;Point Value * tick size = tick value&lt;/li&gt;
&lt;li&gt;five contracts at 100 and sell them at 110 with a point value of 10, then the profit is 10*5*10*1=500&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Futures Sectors:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Agricultural:
      relatively low internal correlation but small market&lt;/li&gt;
&lt;li&gt;Non-agricultural Commodities:
      Oil and natural Gas, Gold, so on. For natural gas, it is persistently sharp contango (highly complicated and nigh impossible storage and the seasonal demand patterns)&lt;/li&gt;
&lt;li&gt;Currencies:
      Be aware of the danger of stacking up USD risks. For example, long the CHF, long the euro, yen and son. They are all shorting USD.&lt;br /&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Equities:
      * Short side of equities usually has a very different profile from the long side.
      * When equiteis are in bull market, they can move slowly upwards for long periods of time. While on the downside, equity moves tend to be swifter and more violent.
      * Short side of CTA on equities struggle a lot. Think sharp drop-downs followed by v-shaped reversals.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Rates:&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;ch4-two-basic-trend-following-strategies&#34;&gt;CH4: Two Basic Trend-following Strategies&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Correlations between strategies:&lt;/p&gt;

&lt;p&gt;Compute the log return ln(pi/pi-1)&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;The secret sauce is not in the buy and sell rules:&lt;/p&gt;

&lt;p&gt;The author only presented two very simple strategies:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Long if the 50-day MA is above the 100-day MA, short if the 50-day MA is less than the 100-day MA.&lt;/li&gt;
&lt;li&gt;Long if the closing price is the highest close price in the past 50 days and short if the closing price is the lowest close price.&lt;/li&gt;
&lt;li&gt;Position: (0.2% * Equity) / (ATR * pointValue) = number of contract&lt;/li&gt;
&lt;li&gt;With stop loss criteria: if long position, it will be closed if it has moved three ATR units down from its highest price after this trade. If short position. It will be closed if it has moved three ATR units lower from its lowest closing price since the position was opened.&lt;/li&gt;
&lt;li&gt;Add a trend filter which makes sure that we only trade in the direction of the main trend and that we do not get whipsawed by going in and out of positions every couple of days.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h3 id=&#34;ch5-6-depth-analysis-of-trend-following-performance&#34;&gt;CH5-6: Depth Analysis of Trend-Following Performance&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Long side showing a smoother upwards profile and the short side a more dynamic burst-style return. The short side is far less profitable and in fact often ends up losing money for extended periods of time; but it still adds value by acting a  volatility stabiliser as well as providing substantial gain in extreme market situations.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Diversified trend following is prone to extreme periods of success followed by sharp decliunes and sideways choppy markets.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Generally speaking, commodities tend to do better when dollar is trending down.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;For trending algos, the short side is a much needed stabiliser over time&lt;/p&gt;&lt;/li&gt;
&lt;/ol&gt;
</description>
    </item>
    
  </channel>
</rss>
